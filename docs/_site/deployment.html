<!DOCTYPE html>
<html lang="en"><head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1"><!-- Begin Jekyll SEO tag v2.8.0 -->
<title>Deployment | Graycat AI Server</title>
<meta name="generator" content="Jekyll v3.10.0" />
<meta property="og:title" content="Deployment" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="A microservice-based AI inference server with Redis queue-based worker architecture" />
<meta property="og:description" content="A microservice-based AI inference server with Redis queue-based worker architecture" />
<link rel="canonical" href="http://0.0.0.0:4000/graycat-aiserver/deployment.html" />
<meta property="og:url" content="http://0.0.0.0:4000/graycat-aiserver/deployment.html" />
<meta property="og:site_name" content="Graycat AI Server" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Deployment" />
<meta name="twitter:site" content="@graycathq" />
<script type="application/ld+json">
{"@context":"https://schema.org","@type":"WebPage","description":"A microservice-based AI inference server with Redis queue-based worker architecture","headline":"Deployment","url":"http://0.0.0.0:4000/graycat-aiserver/deployment.html"}</script>
<!-- End Jekyll SEO tag -->
<link rel="stylesheet" href="/graycat-aiserver/assets/main.css"><link type="application/atom+xml" rel="alternate" href="http://0.0.0.0:4000/graycat-aiserver/feed.xml" title="Graycat AI Server" /></head>
<body><header class="site-header" role="banner">
  <div class="header-wrapper">
    <a class="site-title" rel="author" href="/graycat-aiserver/">
      <span class="site-logo">üöÄ</span>
      Graycat AI Server
    </a>

    <div class="header-actions">
      <!-- Theme toggle -->
      <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
        <svg class="theme-icon sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zM12 4V2c0-.6-.4-1-1-1s-1 .4-1 1v2c0 .6.4 1 1 1s1-.4 1-1zM12 22v-2c0-.6-.4-1-1-1s-1 .4-1 1v2c0 .6.4 1 1 1s1-.4 1-1zM20 13h2c.6 0 1-.4 1-1s-.4-1-1-1h-2c-.6 0-1 .4-1 1s.4 1 1 1zM4 13H2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1z"/>
        </svg>
        <svg class="theme-icon moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
          <path d="M21 12.8c-.2 4.9-4.3 8.8-9.2 8.6C6.8 21.2 2.8 17.1 3 12.2 3.2 7.3 7.3 3.4 12.2 3.6c.5 0 1 .1 1.4.2-.4.4-.7.9-1 1.4-.9 1.6-.9 3.5 0 5.1.4.8 1 1.4 1.8 1.8 1.6.9 3.5.9 5.1 0 .5-.3 1-.6 1.4-1 .1.5.1.9.1 1.4z"/>
        </svg>
      </button>

      <!-- GitHub link -->
      <a class="github-link" href="https://github.com/GrayCatHQ/graycat-aiserver" target="_blank" rel="noopener" aria-label="View on GitHub">
        <svg class="github-icon" width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
        </svg>
      </a>

      <!-- Mobile menu toggle -->
      <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>
</header>

<style>
.site-header {
  background-color: var(--header-bg);
  border-bottom: 1px solid var(--border-color);
  position: sticky;
  top: 0;
  z-index: 1000;
  backdrop-filter: blur(8px);
}

.site-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--text-color);
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.site-logo {
  font-size: 1.2rem;
}

.site-nav {
  .page-link {
    color: var(--text-secondary);
    text-decoration: none;
    margin-left: 1.5rem;
    font-weight: 500;
    transition: color 0.2s ease;
    
    &:hover {
      color: var(--text-color);
    }
    
    &.github-link {
      display: flex;
      align-items: center;
      gap: 0.3rem;
      
      .github-icon {
        fill: currentColor;
      }
    }
  }
  
  .nav-trigger {
    display: none;
  }
  
  .menu-icon {
    display: none;
  }
  
  .trigger {
    display: flex;
    align-items: center;
  }
}

@media screen and (max-width: 600px) {
  .site-nav {
    position: absolute;
    top: 9px;
    right: 15px;
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    text-align: right;
    
    label[for="nav-trigger"] {
      display: block;
      float: right;
      width: 36px;
      height: 36px;
      z-index: 2;
      cursor: pointer;
    }
    
    .menu-icon {
      display: block;
      float: right;
      width: 36px;
      height: 26px;
      line-height: 0;
      padding-top: 10px;
      text-align: center;
      
      > svg {
        fill: var(--text-color);
      }
    }
    
    input ~ .trigger {
      clear: both;
      display: none;
      flex-direction: column;
      align-items: flex-start;
      padding: 10px;
    }
    
    input:checked ~ .trigger {
      display: flex;
    }
    
    .page-link {
      display: block;
      padding: 5px 10px;
      margin-left: 0;
      margin-bottom: 5px;
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}
</style><main class="page-content" aria-label="Content">
      <div class="wrapper">
        <header class="site-header" role="banner">
  <div class="header-wrapper">
    <a class="site-title" rel="author" href="/graycat-aiserver/">
      <span class="site-logo">üöÄ</span>
      Graycat AI Server
    </a>

    <div class="header-actions">
      <!-- Theme toggle -->
      <button class="theme-toggle" id="theme-toggle" aria-label="Toggle theme">
        <svg class="theme-icon sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 18c-3.3 0-6-2.7-6-6s2.7-6 6-6 6 2.7 6 6-2.7 6-6 6zm0-10c-2.2 0-4 1.8-4 4s1.8 4 4 4 4-1.8 4-4-1.8-4-4-4zM12 4V2c0-.6-.4-1-1-1s-1 .4-1 1v2c0 .6.4 1 1 1s1-.4 1-1zM12 22v-2c0-.6-.4-1-1-1s-1 .4-1 1v2c0 .6.4 1 1 1s1-.4 1-1zM20 13h2c.6 0 1-.4 1-1s-.4-1-1-1h-2c-.6 0-1 .4-1 1s.4 1 1 1zM4 13H2c-.6 0-1-.4-1-1s.4-1 1-1h2c.6 0 1 .4 1 1s-.4 1-1 1z"/>
        </svg>
        <svg class="theme-icon moon-icon" width="20" height="20" viewBox="0 0 24 24" fill="currentColor" style="display: none;">
          <path d="M21 12.8c-.2 4.9-4.3 8.8-9.2 8.6C6.8 21.2 2.8 17.1 3 12.2 3.2 7.3 7.3 3.4 12.2 3.6c.5 0 1 .1 1.4.2-.4.4-.7.9-1 1.4-.9 1.6-.9 3.5 0 5.1.4.8 1 1.4 1.8 1.8 1.6.9 3.5.9 5.1 0 .5-.3 1-.6 1.4-1 .1.5.1.9.1 1.4z"/>
        </svg>
      </button>

      <!-- GitHub link -->
      <a class="github-link" href="https://github.com/GrayCatHQ/graycat-aiserver" target="_blank" rel="noopener" aria-label="View on GitHub">
        <svg class="github-icon" width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
          <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
        </svg>
      </a>

      <!-- Mobile menu toggle -->
      <button class="mobile-menu-toggle" id="mobile-menu-toggle" aria-label="Toggle navigation">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </div>
</header>

<style>
.site-header {
  background-color: var(--header-bg);
  border-bottom: 1px solid var(--border-color);
  position: sticky;
  top: 0;
  z-index: 1000;
  backdrop-filter: blur(8px);
}

.site-title {
  font-size: 1.5rem;
  font-weight: 600;
  color: var(--text-color);
  text-decoration: none;
  display: flex;
  align-items: center;
  gap: 0.5rem;
}

.site-logo {
  font-size: 1.2rem;
}

.site-nav {
  .page-link {
    color: var(--text-secondary);
    text-decoration: none;
    margin-left: 1.5rem;
    font-weight: 500;
    transition: color 0.2s ease;
    
    &:hover {
      color: var(--text-color);
    }
    
    &.github-link {
      display: flex;
      align-items: center;
      gap: 0.3rem;
      
      .github-icon {
        fill: currentColor;
      }
    }
  }
  
  .nav-trigger {
    display: none;
  }
  
  .menu-icon {
    display: none;
  }
  
  .trigger {
    display: flex;
    align-items: center;
  }
}

@media screen and (max-width: 600px) {
  .site-nav {
    position: absolute;
    top: 9px;
    right: 15px;
    background-color: var(--bg-secondary);
    border: 1px solid var(--border-color);
    border-radius: 5px;
    text-align: right;
    
    label[for="nav-trigger"] {
      display: block;
      float: right;
      width: 36px;
      height: 36px;
      z-index: 2;
      cursor: pointer;
    }
    
    .menu-icon {
      display: block;
      float: right;
      width: 36px;
      height: 26px;
      line-height: 0;
      padding-top: 10px;
      text-align: center;
      
      > svg {
        fill: var(--text-color);
      }
    }
    
    input ~ .trigger {
      clear: both;
      display: none;
      flex-direction: column;
      align-items: flex-start;
      padding: 10px;
    }
    
    input:checked ~ .trigger {
      display: flex;
    }
    
    .page-link {
      display: block;
      padding: 5px 10px;
      margin-left: 0;
      margin-bottom: 5px;
      
      &:last-child {
        margin-bottom: 0;
      }
    }
  }
}
</style><div class="page-layout"><nav class="sidebar" id="sidebar">
  <div class="sidebar-content">
    <div class="sidebar-header">
      <h3>Documentation</h3>
    </div>
    
    <ul class="sidebar-nav">
      <li class="nav-item">
        <a href="/graycat-aiserver/" class="nav-link ">
          <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
          </svg>
          Home
        </a>
      </li>
      
      <li class="nav-item">
        <a href="/graycat-aiserver/getting-started.html" class="nav-link ">
          <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"/>
          </svg>
          Getting Started
        </a>
      </li>
      
      <li class="nav-item">
        <a href="/graycat-aiserver/architecture.html" class="nav-link ">
          <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
          Architecture
        </a>
      </li>
      
      <li class="nav-item">
        <a href="/graycat-aiserver/api-reference.html" class="nav-link ">
          <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"/>
          </svg>
          API Reference
        </a>
      </li>
      
      <li class="nav-item">
        <a href="/graycat-aiserver/deployment.html" class="nav-link active">
          <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M19 7h-3V6a4 4 0 0 0-8 0v1H5a1 1 0 0 0-1 1v11a3 3 0 0 0 3 3h10a3 3 0 0 0 3-3V8a1 1 0 0 0-1-1zM10 6a2 2 0 0 1 4 0v1h-4V6zm6 16H8a1 1 0 0 1-1-1V9h2v1a1 1 0 0 0 2 0V9h2v1a1 1 0 0 0 2 0V9h2v12a1 1 0 0 1-1 1z"/>
          </svg>
          Deployment
        </a>
      </li>
      
      <li class="nav-item">
        <a href="/graycat-aiserver/troubleshooting.html" class="nav-link ">
          <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"/>
          </svg>
          Troubleshooting
        </a>
      </li>
      
      <li class="nav-section">
        <span class="section-title">Components</span>
      </li>
      
      <li class="nav-item">
        <a href="/graycat-aiserver/components/api-service/" class="nav-link ">
          <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
          </svg>
          API Service
        </a>
      </li>
      
      <li class="nav-item">
        <a href="/graycat-aiserver/components/gpu-workers/" class="nav-link ">
          <svg class="nav-icon" width="16" height="16" viewBox="0 0 24 24" fill="currentColor">
            <path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm-5 14H4v-4h11v4zm0-5H4V9h11v4zm5 5h-4V9h4v9z"/>
          </svg>
          GPU Workers
        </a>
      </li>
    </ul>
  </div>
</nav>

<!-- Sidebar overlay for mobile -->
<div class="sidebar-overlay" id="sidebar-overlay"></div><main class="page-content" aria-label="Content">
    <div class="wrapper">
      <article class="post">
        <header class="post-header">
          <h1 class="post-title">Deployment</h1></header>

        <div class="post-content">
          <h1 id="deployment-guide">Deployment Guide</h1>

<p>This guide covers production deployment strategies for Graycat AI Server.</p>

<h2 id="production-architecture">Production Architecture</h2>

<p>For production environments, consider this architecture:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre>Internet
    ‚îÇ
    ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Load Balancer ‚îÇ  (AWS ALB, Cloudflare, nginx)
‚îÇ   (SSL/TLS)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  API Gateway  ‚îÇ  (Multiple instances)
‚îÇ   (FastAPI)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ     Redis     ‚îÇ  (Managed Redis or cluster)
‚îÇ   (Cluster)   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
        ‚îÇ
        ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ GPU Workers   ‚îÇ  (Auto-scaling group)
‚îÇ (LLM + SD)    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="deployment-options">Deployment Options</h2>

<h3 id="1-single-server-deployment">1. Single Server Deployment</h3>

<p><strong>Best for</strong>: Development, small teams, low-traffic applications</p>

<p><strong>Requirements</strong>:</p>
<ul>
  <li>1 server with GPU (NVIDIA RTX 3080+ or A100)</li>
  <li>16GB+ RAM</li>
  <li>100GB+ SSD storage</li>
  <li>Docker with NVIDIA runtime</li>
</ul>

<p><strong>Setup</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c"># 1. Clone repository</span>
git clone https://github.com/GrayCatHQ/graycat-aiserver.git
<span class="nb">cd </span>graycat-aiserver

<span class="c"># 2. Configure production environment</span>
<span class="nb">cp</span> .env.example .env.production
nano .env.production

<span class="c"># 3. Use production compose file</span>
docker-compose <span class="nt">-f</span> docker-compose.prod.yml up <span class="nt">-d</span> <span class="nt">--build</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="2-multi-server-deployment">2. Multi-Server Deployment</h3>

<p><strong>Best for</strong>: High availability, horizontal scaling</p>

<p><strong>Architecture</strong>:</p>
<ul>
  <li><strong>API Servers</strong>: 2+ instances behind load balancer</li>
  <li><strong>Redis Cluster</strong>: 3+ nodes for high availability</li>
  <li><strong>GPU Workers</strong>: Scalable worker pool</li>
  <li><strong>Monitoring</strong>: Centralized metrics collection</li>
</ul>

<h3 id="3-cloud-deployment">3. Cloud Deployment</h3>

<h4 id="aws-deployment">AWS Deployment</h4>

<p><strong>Services Used</strong>:</p>
<ul>
  <li><strong>ECS/EKS</strong>: Container orchestration</li>
  <li><strong>ALB</strong>: Application Load Balancer</li>
  <li><strong>ElastiCache</strong>: Managed Redis</li>
  <li><strong>EC2 GPU Instances</strong>: p3/p4 instances for workers</li>
  <li><strong>CloudWatch</strong>: Monitoring and logging</li>
</ul>

<p><strong>Example ECS Task Definition</strong>:</p>
<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre></td><td class="rouge-code"><pre><span class="p">{</span><span class="w">
  </span><span class="nl">"family"</span><span class="p">:</span><span class="w"> </span><span class="s2">"graycat-api"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"requiresCompatibilities"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"FARGATE"</span><span class="p">],</span><span class="w">
  </span><span class="nl">"networkMode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"awsvpc"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"cpu"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1024"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"memory"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2048"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"containerDefinitions"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
      </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"api"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"image"</span><span class="p">:</span><span class="w"> </span><span class="s2">"graycathq/graycat-api:latest"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"portMappings"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"containerPort"</span><span class="p">:</span><span class="w"> </span><span class="mi">8000</span><span class="p">,</span><span class="w">
          </span><span class="nl">"protocol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"tcp"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">],</span><span class="w">
      </span><span class="nl">"environment"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
          </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"REDIS_URL"</span><span class="p">,</span><span class="w">
          </span><span class="nl">"value"</span><span class="p">:</span><span class="w"> </span><span class="s2">"redis://your-elasticache-cluster:6379"</span><span class="w">
        </span><span class="p">}</span><span class="w">
      </span><span class="p">]</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></pre></td></tr></tbody></table></code></pre></div></div>

<h4 id="google-cloud-platform">Google Cloud Platform</h4>

<p><strong>Services Used</strong>:</p>
<ul>
  <li><strong>GKE</strong>: Kubernetes clusters with GPU nodes</li>
  <li><strong>Cloud Load Balancing</strong>: HTTP(S) load balancer</li>
  <li><strong>Memorystore</strong>: Managed Redis</li>
  <li><strong>Compute Engine</strong>: GPU-enabled VMs</li>
</ul>

<h4 id="azure-deployment">Azure Deployment</h4>

<p><strong>Services Used</strong>:</p>
<ul>
  <li><strong>AKS</strong>: Azure Kubernetes Service</li>
  <li><strong>Application Gateway</strong>: Load balancer</li>
  <li><strong>Azure Cache for Redis</strong>: Managed Redis</li>
  <li><strong>Virtual Machines</strong>: GPU-enabled instances</li>
</ul>

<h2 id="docker-production-configuration">Docker Production Configuration</h2>

<h3 id="production-docker-compose">Production Docker Compose</h3>

<p>Create <code class="language-plaintext highlighter-rouge">docker-compose.prod.yml</code>:</p>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
61
62
63
64
65
66
67
68
69
</pre></td><td class="rouge-code"><pre><span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.8'</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">api</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">./api</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">REDIS_URL=redis://redis:6379</span>
      <span class="pi">-</span> <span class="s">API_TOKENS=${API_TOKENS}</span>
      <span class="pi">-</span> <span class="s">LOG_LEVEL=INFO</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">redis</span>
    <span class="na">deploy</span><span class="pi">:</span>
      <span class="na">replicas</span><span class="pi">:</span> <span class="m">2</span>
      <span class="na">resources</span><span class="pi">:</span>
        <span class="na">limits</span><span class="pi">:</span>
          <span class="na">memory</span><span class="pi">:</span> <span class="s">2G</span>
          <span class="na">cpus</span><span class="pi">:</span> <span class="s1">'</span><span class="s">1.0'</span>
    <span class="na">healthcheck</span><span class="pi">:</span>
      <span class="na">test</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">CMD"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">curl"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">-f"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">http://localhost:8000/health"</span><span class="pi">]</span>
      <span class="na">interval</span><span class="pi">:</span> <span class="s">30s</span>
      <span class="na">timeout</span><span class="pi">:</span> <span class="s">10s</span>
      <span class="na">retries</span><span class="pi">:</span> <span class="m">3</span>

  <span class="na">redis</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">redis:7-alpine</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">redis-server --appendonly yes --maxmemory 1gb</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">redis_data:/data</span>
    <span class="na">deploy</span><span class="pi">:</span>
      <span class="na">resources</span><span class="pi">:</span>
        <span class="na">limits</span><span class="pi">:</span>
          <span class="na">memory</span><span class="pi">:</span> <span class="s">1G</span>

  <span class="na">gpu_worker</span><span class="pi">:</span>
    <span class="na">build</span><span class="pi">:</span> <span class="s">./gpu</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>
    <span class="na">runtime</span><span class="pi">:</span> <span class="s">nvidia</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">CUDA_VISIBLE_DEVICES=0</span>
      <span class="pi">-</span> <span class="s">GPU_LAYERS=35</span>
      <span class="pi">-</span> <span class="s">REDIS_URL=redis://redis:6379</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./gpu/data:/app/data</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">redis</span>
    <span class="na">deploy</span><span class="pi">:</span>
      <span class="na">resources</span><span class="pi">:</span>
        <span class="na">reservations</span><span class="pi">:</span>
          <span class="na">devices</span><span class="pi">:</span>
            <span class="pi">-</span> <span class="na">driver</span><span class="pi">:</span> <span class="s">nvidia</span>
              <span class="na">count</span><span class="pi">:</span> <span class="m">1</span>
              <span class="na">capabilities</span><span class="pi">:</span> <span class="pi">[</span><span class="nv">gpu</span><span class="pi">]</span>

  <span class="na">nginx</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">nginx:alpine</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">80:80"</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">443:443"</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./nginx/nginx.prod.conf:/etc/nginx/nginx.conf</span>
      <span class="pi">-</span> <span class="s">./nginx/ssl:/etc/nginx/ssl</span>
    <span class="na">depends_on</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">api</span>
    <span class="na">restart</span><span class="pi">:</span> <span class="s">unless-stopped</span>

<span class="na">volumes</span><span class="pi">:</span>
  <span class="na">redis_data</span><span class="pi">:</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="nginx-configuration">Nginx Configuration</h3>

<p>Create <code class="language-plaintext highlighter-rouge">nginx/nginx.prod.conf</code>:</p>

<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57
58
59
60
</pre></td><td class="rouge-code"><pre><span class="k">events</span> <span class="p">{</span>
    <span class="kn">worker_connections</span> <span class="mi">1024</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">http</span> <span class="p">{</span>
    <span class="kn">upstream</span> <span class="s">api_backend</span> <span class="p">{</span>
        <span class="kn">server</span> <span class="nf">api</span><span class="p">:</span><span class="mi">8000</span><span class="p">;</span>
        <span class="c1"># Add more API instances for load balancing</span>
        <span class="c1"># server api-2:8000;</span>
    <span class="p">}</span>

    <span class="c1"># Rate limiting</span>
    <span class="kn">limit_req_zone</span> <span class="nv">$binary_remote_addr</span> <span class="s">zone=api:10m</span> <span class="s">rate=60r/m</span><span class="p">;</span>

    <span class="kn">server</span> <span class="p">{</span>
        <span class="kn">listen</span> <span class="mi">80</span><span class="p">;</span>
        <span class="kn">server_name</span> <span class="s">your-domain.com</span><span class="p">;</span>
        <span class="kn">return</span> <span class="mi">301</span> <span class="s">https://</span><span class="nv">$server_name$request_uri</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kn">server</span> <span class="p">{</span>
        <span class="kn">listen</span> <span class="mi">443</span> <span class="s">ssl</span> <span class="s">http2</span><span class="p">;</span>
        <span class="kn">server_name</span> <span class="s">your-domain.com</span><span class="p">;</span>

        <span class="kn">ssl_certificate</span> <span class="n">/etc/nginx/ssl/cert.pem</span><span class="p">;</span>
        <span class="kn">ssl_certificate_key</span> <span class="n">/etc/nginx/ssl/key.pem</span><span class="p">;</span>
        <span class="kn">ssl_protocols</span> <span class="s">TLSv1.2</span> <span class="s">TLSv1.3</span><span class="p">;</span>

        <span class="c1"># Security headers</span>
        <span class="kn">add_header</span> <span class="s">X-Frame-Options</span> <span class="s">DENY</span><span class="p">;</span>
        <span class="kn">add_header</span> <span class="s">X-Content-Type-Options</span> <span class="s">nosniff</span><span class="p">;</span>
        <span class="kn">add_header</span> <span class="s">X-XSS-Protection</span> <span class="s">"1</span><span class="p">;</span> <span class="kn">mode=block"</span><span class="p">;</span>

        <span class="c1"># API proxy</span>
        <span class="kn">location</span> <span class="n">/</span> <span class="p">{</span>
            <span class="kn">limit_req</span> <span class="s">zone=api</span> <span class="s">burst=20</span> <span class="s">nodelay</span><span class="p">;</span>
            <span class="kn">proxy_pass</span> <span class="s">http://api_backend</span><span class="p">;</span>
            <span class="kn">proxy_set_header</span> <span class="s">Host</span> <span class="nv">$host</span><span class="p">;</span>
            <span class="kn">proxy_set_header</span> <span class="s">X-Real-IP</span> <span class="nv">$remote_addr</span><span class="p">;</span>
            <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-For</span> <span class="nv">$proxy_add_x_forwarded_for</span><span class="p">;</span>
            <span class="kn">proxy_set_header</span> <span class="s">X-Forwarded-Proto</span> <span class="nv">$scheme</span><span class="p">;</span>

            <span class="c1"># Timeout settings</span>
            <span class="kn">proxy_connect_timeout</span> <span class="s">60s</span><span class="p">;</span>
            <span class="kn">proxy_send_timeout</span> <span class="s">60s</span><span class="p">;</span>
            <span class="kn">proxy_read_timeout</span> <span class="s">300s</span><span class="p">;</span>

            <span class="c1"># Buffer settings for large responses</span>
            <span class="kn">proxy_buffering</span> <span class="no">on</span><span class="p">;</span>
            <span class="kn">proxy_buffer_size</span> <span class="mi">128k</span><span class="p">;</span>
            <span class="kn">proxy_buffers</span> <span class="mi">4</span> <span class="mi">256k</span><span class="p">;</span>
        <span class="p">}</span>

        <span class="c1"># Health check endpoint</span>
        <span class="kn">location</span> <span class="n">/health</span> <span class="p">{</span>
            <span class="kn">access_log</span> <span class="no">off</span><span class="p">;</span>
            <span class="kn">proxy_pass</span> <span class="s">http://api_backend</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="environment-configuration">Environment Configuration</h2>

<h3 id="production-environment-variables">Production Environment Variables</h3>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
</pre></td><td class="rouge-code"><pre><span class="c"># .env.production</span>

<span class="c"># API Configuration</span>
<span class="nv">API_TOKENS</span><span class="o">=</span>prod-token-1,prod-token-2,prod-token-3
<span class="nv">LOG_LEVEL</span><span class="o">=</span>INFO
<span class="nv">CORS_ORIGINS</span><span class="o">=</span>https://your-app.com,https://api.your-app.com

<span class="c"># Redis Configuration (for remote Redis)</span>
<span class="nv">REDIS_URL</span><span class="o">=</span>redis://your-redis-cluster:6379
<span class="nv">REDIS_PASSWORD</span><span class="o">=</span>your-redis-password

<span class="c"># GPU Worker Configuration</span>
<span class="nv">GPU_LAYERS</span><span class="o">=</span>35
<span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span>0
<span class="nv">MODEL_CACHE_SIZE</span><span class="o">=</span>2

<span class="c"># Model URLs (for auto-download)</span>
<span class="nv">MODEL_URL</span><span class="o">=</span>https://huggingface.co/your-org/model/resolve/main/model.gguf
<span class="nv">SD_MODEL_URL</span><span class="o">=</span>https://huggingface.co/your-org/sd-model/resolve/main/model.safetensors

<span class="c"># Monitoring</span>
<span class="nv">PROMETHEUS_ENABLED</span><span class="o">=</span><span class="nb">true
</span><span class="nv">GRAFANA_ADMIN_PASSWORD</span><span class="o">=</span>secure-password

<span class="c"># Security</span>
<span class="nv">RATE_LIMIT_PER_MINUTE</span><span class="o">=</span>100
<span class="nv">MAX_CONCURRENT_REQUESTS</span><span class="o">=</span>50
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="security-considerations">Security Considerations</h2>

<h3 id="1-api-security">1. API Security</h3>

<p><strong>Authentication</strong>:</p>
<ul>
  <li>Use strong, randomly generated API tokens</li>
  <li>Rotate tokens regularly</li>
  <li>Implement token scoping for different access levels</li>
</ul>

<p><strong>Rate Limiting</strong>:</p>
<div class="language-nginx highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c1"># In nginx.conf</span>
<span class="k">limit_req_zone</span> <span class="nv">$binary_remote_addr</span> <span class="s">zone=api:10m</span> <span class="s">rate=100r/m</span><span class="p">;</span>
<span class="k">limit_req</span> <span class="s">zone=api</span> <span class="s">burst=50</span> <span class="s">nodelay</span><span class="p">;</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Input Validation</strong>:</p>
<ul>
  <li>All inputs validated with Pydantic models</li>
  <li>Prompt length limits to prevent abuse</li>
  <li>File upload restrictions for image endpoints</li>
</ul>

<h3 id="2-network-security">2. Network Security</h3>

<p><strong>Firewall Rules</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># Allow only necessary ports</span>
ufw allow 22    <span class="c"># SSH</span>
ufw allow 80    <span class="c"># HTTP</span>
ufw allow 443   <span class="c"># HTTPS</span>
ufw deny 6379   <span class="c"># Redis (internal only)</span>
ufw deny 8000   <span class="c"># API (behind nginx)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>TLS Configuration</strong>:</p>
<ul>
  <li>Use Let‚Äôs Encrypt for free SSL certificates</li>
  <li>Implement HSTS headers</li>
  <li>Use modern TLS protocols only</li>
</ul>

<h3 id="3-container-security">3. Container Security</h3>

<p><strong>Docker Security</strong>:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre></td><td class="rouge-code"><pre><span class="c1"># In docker-compose.prod.yml</span>
<span class="na">services</span><span class="pi">:</span>
  <span class="na">api</span><span class="pi">:</span>
    <span class="na">security_opt</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">no-new-privileges:true</span>
    <span class="na">read_only</span><span class="pi">:</span> <span class="no">true</span>
    <span class="na">tmpfs</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/tmp</span>
    <span class="na">user</span><span class="pi">:</span> <span class="s2">"</span><span class="s">1000:1000"</span>  <span class="c1"># Non-root user</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="monitoring-and-logging">Monitoring and Logging</h2>

<h3 id="production-monitoring-stack">Production Monitoring Stack</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
42
43
44
45
46
47
48
</pre></td><td class="rouge-code"><pre><span class="c1"># monitoring/docker-compose.prod.yml</span>
<span class="na">version</span><span class="pi">:</span> <span class="s1">'</span><span class="s">3.8'</span>

<span class="na">services</span><span class="pi">:</span>
  <span class="na">prometheus</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">prom/prometheus:latest</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">9090:9090"</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">./prometheus.prod.yml:/etc/prometheus/prometheus.yml</span>
      <span class="pi">-</span> <span class="s">prometheus_data:/prometheus</span>
    <span class="na">command</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">--config.file=/etc/prometheus/prometheus.yml'</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">--storage.tsdb.path=/prometheus'</span>
      <span class="pi">-</span> <span class="s1">'</span><span class="s">--storage.tsdb.retention.time=30d'</span>

  <span class="na">grafana</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">grafana/grafana:latest</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3000:3000"</span>
    <span class="na">environment</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">GF_SECURITY_ADMIN_PASSWORD=${GRAFANA_PASSWORD}</span>
      <span class="pi">-</span> <span class="s">GF_SMTP_ENABLED=true</span>
      <span class="pi">-</span> <span class="s">GF_SMTP_HOST=smtp.gmail.com:587</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">grafana_data:/var/lib/grafana</span>
      <span class="pi">-</span> <span class="s">./grafana/dashboards:/etc/grafana/provisioning/dashboards</span>

  <span class="na">loki</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">grafana/loki:latest</span>
    <span class="na">ports</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s2">"</span><span class="s">3100:3100"</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">-config.file=/etc/loki/local-config.yaml</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">loki_data:/loki</span>

  <span class="na">promtail</span><span class="pi">:</span>
    <span class="na">image</span><span class="pi">:</span> <span class="s">grafana/promtail:latest</span>
    <span class="na">volumes</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="s">/var/log:/var/log:ro</span>
      <span class="pi">-</span> <span class="s">/var/lib/docker/containers:/var/lib/docker/containers:ro</span>
      <span class="pi">-</span> <span class="s">./promtail-config.yml:/etc/promtail/config.yml</span>
    <span class="na">command</span><span class="pi">:</span> <span class="s">-config.file=/etc/promtail/config.yml</span>

<span class="na">volumes</span><span class="pi">:</span>
  <span class="na">prometheus_data</span><span class="pi">:</span>
  <span class="na">grafana_data</span><span class="pi">:</span>
  <span class="na">loki_data</span><span class="pi">:</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="log-management">Log Management</h3>

<p><strong>Structured Logging</strong>:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre></td><td class="rouge-code"><pre><span class="c1"># In FastAPI application
</span><span class="kn">import</span> <span class="nn">structlog</span>

<span class="n">logger</span> <span class="o">=</span> <span class="n">structlog</span><span class="p">.</span><span class="n">get_logger</span><span class="p">()</span>

<span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">"/completion"</span><span class="p">)</span>
<span class="k">async</span> <span class="k">def</span> <span class="nf">completion</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">CompletionRequest</span><span class="p">):</span>
    <span class="n">logger</span><span class="p">.</span><span class="n">info</span><span class="p">(</span><span class="s">"completion_request"</span><span class="p">,</span> 
                <span class="n">prompt_length</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">request</span><span class="p">.</span><span class="n">prompt</span><span class="p">),</span>
                <span class="n">max_tokens</span><span class="o">=</span><span class="n">request</span><span class="p">.</span><span class="n">max_tokens</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Log Rotation</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
</pre></td><td class="rouge-code"><pre><span class="c"># /etc/logrotate.d/graycat</span>
/var/log/graycat/<span class="k">*</span>.log <span class="o">{</span>
    daily
    missingok
    rotate 30
    compress
    delaycompress
    notifempty
    create 644 root root
    postrotate
        docker <span class="nb">kill</span> <span class="nt">-s</span> USR1 <span class="si">$(</span>docker ps <span class="nt">-q</span> <span class="nt">--filter</span> <span class="nv">name</span><span class="o">=</span>graycat<span class="si">)</span>
    endscript
<span class="o">}</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="scaling-strategies">Scaling Strategies</h2>

<h3 id="horizontal-scaling">Horizontal Scaling</h3>

<p><strong>API Scaling</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># Scale API instances</span>
docker-compose <span class="nt">-f</span> docker-compose.prod.yml up <span class="nt">-d</span> <span class="nt">--scale</span> <span class="nv">api</span><span class="o">=</span>4
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>GPU Worker Scaling</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c"># Scale GPU workers across multiple machines</span>
<span class="c"># Machine 1</span>
<span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span>0,1 docker-compose up gpu_worker

<span class="c"># Machine 2  </span>
<span class="nv">CUDA_VISIBLE_DEVICES</span><span class="o">=</span>0,1 docker-compose up gpu_worker
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="auto-scaling-with-kubernetes">Auto-scaling with Kubernetes</h3>

<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
</pre></td><td class="rouge-code"><pre><span class="c1"># k8s/hpa.yaml</span>
<span class="na">apiVersion</span><span class="pi">:</span> <span class="s">autoscaling/v2</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">HorizontalPodAutoscaler</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">graycat-api-hpa</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">scaleTargetRef</span><span class="pi">:</span>
    <span class="na">apiVersion</span><span class="pi">:</span> <span class="s">apps/v1</span>
    <span class="na">kind</span><span class="pi">:</span> <span class="s">Deployment</span>
    <span class="na">name</span><span class="pi">:</span> <span class="s">graycat-api</span>
  <span class="na">minReplicas</span><span class="pi">:</span> <span class="m">2</span>
  <span class="na">maxReplicas</span><span class="pi">:</span> <span class="m">10</span>
  <span class="na">metrics</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Resource</span>
    <span class="na">resource</span><span class="pi">:</span>
      <span class="na">name</span><span class="pi">:</span> <span class="s">cpu</span>
      <span class="na">target</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">Utilization</span>
        <span class="na">averageUtilization</span><span class="pi">:</span> <span class="m">70</span>
  <span class="pi">-</span> <span class="na">type</span><span class="pi">:</span> <span class="s">Pods</span>
    <span class="na">pods</span><span class="pi">:</span>
      <span class="na">metric</span><span class="pi">:</span>
        <span class="na">name</span><span class="pi">:</span> <span class="s">queue_depth</span>
      <span class="na">target</span><span class="pi">:</span>
        <span class="na">type</span><span class="pi">:</span> <span class="s">AverageValue</span>
        <span class="na">averageValue</span><span class="pi">:</span> <span class="s2">"</span><span class="s">5"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="backup-and-recovery">Backup and Recovery</h2>

<h3 id="data-backup">Data Backup</h3>

<p><strong>Redis Backup</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c"># Daily Redis backup</span>
<span class="c">#!/bin/bash</span>
<span class="nv">DATE</span><span class="o">=</span><span class="si">$(</span><span class="nb">date</span> +%Y%m%d_%H%M%S<span class="si">)</span>
docker <span class="nb">exec </span>redis redis-cli BGSAVE
docker <span class="nb">cp </span>redis:/data/dump.rdb /backups/redis_<span class="k">${</span><span class="nv">DATE</span><span class="k">}</span>.rdb
</pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Model Backup</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
</pre></td><td class="rouge-code"><pre><span class="c"># Sync models to S3</span>
aws s3 <span class="nb">sync</span> ./gpu/data/models s3://your-bucket/models <span class="nt">--delete</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="disaster-recovery">Disaster Recovery</h3>

<p><strong>Recovery Plan</strong>:</p>
<ol>
  <li>Restore Redis from latest backup</li>
  <li>Deploy containers from Docker images</li>
  <li>Download models from backup location</li>
  <li>Verify health checks pass</li>
  <li>Update DNS to point to new infrastructure</li>
</ol>

<h2 id="performance-optimization">Performance Optimization</h2>

<h3 id="gpu-optimization">GPU Optimization</h3>

<p><strong>Model Quantization</strong>:</p>
<ul>
  <li>Use GGUF format with appropriate quantization (Q4_K_M, Q5_K_M)</li>
  <li>Balance model size vs. quality based on requirements</li>
</ul>

<p><strong>Memory Management</strong>:</p>
<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="rouge-code"><pre><span class="c"># Optimize GPU memory usage</span>
<span class="nb">export </span><span class="nv">CUDA_MEMORY_FRACTION</span><span class="o">=</span>0.9
<span class="nb">export </span><span class="nv">PYTORCH_CUDA_ALLOC_CONF</span><span class="o">=</span>max_split_size_mb:512
</pre></td></tr></tbody></table></code></pre></div></div>

<h3 id="api-optimization">API Optimization</h3>

<p><strong>Caching</strong>:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre></td><td class="rouge-code"><pre><span class="c1"># Redis-based response caching
</span><span class="o">@</span><span class="n">app</span><span class="p">.</span><span class="n">post</span><span class="p">(</span><span class="s">"/completion"</span><span class="p">)</span>
<span class="o">@</span><span class="n">cache</span><span class="p">(</span><span class="n">expire</span><span class="o">=</span><span class="mi">3600</span><span class="p">)</span>  <span class="c1"># Cache for 1 hour
</span><span class="k">async</span> <span class="k">def</span> <span class="nf">completion</span><span class="p">(</span><span class="n">request</span><span class="p">:</span> <span class="n">CompletionRequest</span><span class="p">):</span>
    <span class="c1"># Implementation
</span></pre></td></tr></tbody></table></code></pre></div></div>

<p><strong>Connection Pooling</strong>:</p>
<div class="language-python highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
</pre></td><td class="rouge-code"><pre><span class="c1"># Redis connection pool
</span><span class="n">redis_pool</span> <span class="o">=</span> <span class="n">redis</span><span class="p">.</span><span class="n">ConnectionPool</span><span class="p">(</span>
    <span class="n">host</span><span class="o">=</span><span class="s">'redis'</span><span class="p">,</span> 
    <span class="n">port</span><span class="o">=</span><span class="mi">6379</span><span class="p">,</span> 
    <span class="n">max_connections</span><span class="o">=</span><span class="mi">100</span>
<span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="troubleshooting-production-issues">Troubleshooting Production Issues</h2>

<h3 id="common-issues">Common Issues</h3>

<p><strong>High Queue Depth</strong>:</p>
<ul>
  <li>Scale GPU workers</li>
  <li>Optimize model inference speed</li>
  <li>Implement request queuing limits</li>
</ul>

<p><strong>Memory Issues</strong>:</p>
<ul>
  <li>Monitor GPU memory usage</li>
  <li>Reduce model context length</li>
  <li>Implement model unloading</li>
</ul>

<p><strong>API Timeouts</strong>:</p>
<ul>
  <li>Increase nginx timeout settings</li>
  <li>Optimize database queries</li>
  <li>Implement circuit breakers</li>
</ul>

<h3 id="monitoring-alerts">Monitoring Alerts</h3>

<p><strong>Grafana Alerts</strong>:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
</pre></td><td class="rouge-code"><pre><span class="c1"># alerts.yml</span>
<span class="na">groups</span><span class="pi">:</span>
<span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">graycat</span>
  <span class="na">rules</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="na">alert</span><span class="pi">:</span> <span class="s">HighQueueDepth</span>
    <span class="na">expr</span><span class="pi">:</span> <span class="s">redis_queue_depth &gt; </span><span class="m">10</span>
    <span class="na">for</span><span class="pi">:</span> <span class="s">5m</span>
    <span class="na">annotations</span><span class="pi">:</span>
      <span class="na">summary</span><span class="pi">:</span> <span class="s2">"</span><span class="s">High</span><span class="nv"> </span><span class="s">queue</span><span class="nv"> </span><span class="s">depth</span><span class="nv"> </span><span class="s">detected"</span>
      
  <span class="pi">-</span> <span class="na">alert</span><span class="pi">:</span> <span class="s">GPUMemoryHigh</span>
    <span class="na">expr</span><span class="pi">:</span> <span class="s">nvidia_gpu_memory_used_percent &gt; </span><span class="m">90</span>
    <span class="na">for</span><span class="pi">:</span> <span class="s">2m</span>
    <span class="na">annotations</span><span class="pi">:</span>
      <span class="na">summary</span><span class="pi">:</span> <span class="s2">"</span><span class="s">GPU</span><span class="nv"> </span><span class="s">memory</span><span class="nv"> </span><span class="s">usage</span><span class="nv"> </span><span class="s">critical"</span>
</pre></td></tr></tbody></table></code></pre></div></div>

<h2 id="next-steps">Next Steps</h2>

<ul>
  <li><a href="api-reference.html">API Reference</a> - Complete API documentation</li>
  <li><a href="troubleshooting.html">Troubleshooting</a> - Common issues and solutions</li>
  <li><a href="architecture.html">Architecture</a> - System design details</li>
</ul>

        </div>

        
          <nav class="post-nav">
            
            
            
            
            
            <div class="nav-previous">
              
                
                <a href="/graycat-aiserver/api-reference.html" rel="prev">‚Üê API Reference</a>
              
            </div>
            
            <div class="nav-next">
              
                
                <a href="/graycat-aiserver/troubleshooting.html" rel="next">Troubleshooting ‚Üí</a>
              
            </div>
          </nav>
        

        <!-- Back to top button -->
        <button class="back-to-top" id="back-to-top" aria-label="Back to top">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor">
            <path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"/>
          </svg>
        </button>
      </article>
    </div>
  </main>
</div><footer class="site-footer h-card">
  <data class="u-url" href="/graycat-aiserver/"></data>

  <div class="wrapper">
    <div class="footer-content">
      <div class="footer-section">
        <h3 class="footer-heading">Graycat AI Server</h3>
        <p class="footer-description">A microservice-based AI inference server with Redis queue-based worker architecture</p>
        
        <div class="social-links">
          <a href="https://github.com/GrayCatHQ/graycat-aiserver" class="social-link" target="_blank" rel="noopener">
            <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
            </svg>
            GitHub
          </a>
          
          
        </div>
      </div>
      
      <div class="footer-section">
        <h4>Documentation</h4>
        <ul class="footer-links">
          <li><a href="/graycat-aiserver/getting-started">Getting Started</a></li>
          <li><a href="/graycat-aiserver/architecture">Architecture</a></li>
          <li><a href="/graycat-aiserver/api-reference">API Reference</a></li>
          <li><a href="/graycat-aiserver/deployment">Deployment</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>Resources</h4>
        <ul class="footer-links">
          <li><a href="/graycat-aiserver/troubleshooting">Troubleshooting</a></li>
          <li><a href="https://github.com/GrayCatHQ/graycat-aiserver/issues" target="_blank">Report Issues</a></li>
          <li><a href="https://github.com/GrayCatHQ/graycat-aiserver/discussions" target="_blank">Discussions</a></li>
          <li><a href="https://github.com/GrayCatHQ/graycat-aiserver/releases" target="_blank">Releases</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>Built with</h4>
        <div class="tech-stack">
          <span class="tech-badge">FastAPI</span>
          <span class="tech-badge">Docker</span>
          <span class="tech-badge">Redis</span>
          <span class="tech-badge">CUDA</span>
          <span class="tech-badge">Jekyll</span>
        </div>
        
        <div class="footer-meta">
          <p>&copy; 2025 Graycat AI Server. Open source under MIT license.</p>
          <p class="build-info">
            Built with ‚ù§Ô∏è using Jekyll
            <br>
            <small>Last updated: September 13, 2025</small>
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

<style>
.site-footer {
  background-color: var(--bg-secondary);
  border-top: 1px solid var(--border-color);
  padding: 3rem 0 1rem 0;
  margin-top: 3rem;
}

.footer-content {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: 2rem;
  margin-bottom: 2rem;
}

.footer-section h3,
.footer-section h4 {
  color: var(--text-color);
  margin-bottom: 1rem;
  font-weight: 600;
}

.footer-section h3 {
  font-size: 1.3rem;
}

.footer-section h4 {
  font-size: 1rem;
}

.footer-description {
  color: var(--text-secondary);
  margin-bottom: 1.5rem;
  line-height: 1.6;
}

.social-links {
  display: flex;
  gap: 1rem;
}

.social-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background-color: var(--button-bg);
  color: var(--text-color);
  text-decoration: none;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  transition: all 0.2s ease;
  font-size: 0.9rem;
}

.social-link:hover {
  background-color: var(--button-hover);
  border-color: var(--link-color);
  color: var(--link-color);
}

.footer-links {
  list-style: none;
  margin: 0;
  padding: 0;
}

.footer-links li {
  margin-bottom: 0.5rem;
}

.footer-links a {
  color: var(--text-secondary);
  text-decoration: none;
  transition: color 0.2s ease;
}

.footer-links a:hover {
  color: var(--link-color);
}

.tech-stack {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.tech-badge {
  background-color: var(--bg-tertiary);
  color: var(--text-color);
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.8rem;
  border: 1px solid var(--border-color);
}

.footer-meta {
  color: var(--text-muted);
  font-size: 0.9rem;
}

.footer-meta p {
  margin: 0.5rem 0;
  color: var(--text-muted);
}

.build-info {
  border-top: 1px solid var(--border-muted);
  padding-top: 1rem;
  margin-top: 1rem;
}

.build-info small {
  color: var(--text-muted);
  font-size: 0.8rem;
}

@media (max-width: 768px) {
  .footer-content {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .social-links {
    flex-direction: column;
  }
  
  .tech-stack {
    justify-content: flex-start;
  }
}

@media (max-width: 1024px) {
  .footer-content {
    grid-template-columns: 1fr 1fr;
  }
}
</style><script>
// Set dark theme as default immediately
(function() {
  const savedTheme = localStorage.getItem('theme');
  const theme = savedTheme || 'dark'; // Default to dark
  document.documentElement.setAttribute('data-theme', theme);
  if (!savedTheme) {
    localStorage.setItem('theme', 'dark');
  }
})();
</script>
<script src="/graycat-aiserver/assets/js/main.js"></script>
      </div>
    </main><footer class="site-footer h-card">
  <data class="u-url" href="/graycat-aiserver/"></data>

  <div class="wrapper">
    <div class="footer-content">
      <div class="footer-section">
        <h3 class="footer-heading">Graycat AI Server</h3>
        <p class="footer-description">A microservice-based AI inference server with Redis queue-based worker architecture</p>
        
        <div class="social-links">
          <a href="https://github.com/GrayCatHQ/graycat-aiserver" class="social-link" target="_blank" rel="noopener">
            <svg width="20" height="20" viewBox="0 0 16 16" fill="currentColor">
              <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"/>
            </svg>
            GitHub
          </a>
          
          
        </div>
      </div>
      
      <div class="footer-section">
        <h4>Documentation</h4>
        <ul class="footer-links">
          <li><a href="/graycat-aiserver/getting-started">Getting Started</a></li>
          <li><a href="/graycat-aiserver/architecture">Architecture</a></li>
          <li><a href="/graycat-aiserver/api-reference">API Reference</a></li>
          <li><a href="/graycat-aiserver/deployment">Deployment</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>Resources</h4>
        <ul class="footer-links">
          <li><a href="/graycat-aiserver/troubleshooting">Troubleshooting</a></li>
          <li><a href="https://github.com/GrayCatHQ/graycat-aiserver/issues" target="_blank">Report Issues</a></li>
          <li><a href="https://github.com/GrayCatHQ/graycat-aiserver/discussions" target="_blank">Discussions</a></li>
          <li><a href="https://github.com/GrayCatHQ/graycat-aiserver/releases" target="_blank">Releases</a></li>
        </ul>
      </div>
      
      <div class="footer-section">
        <h4>Built with</h4>
        <div class="tech-stack">
          <span class="tech-badge">FastAPI</span>
          <span class="tech-badge">Docker</span>
          <span class="tech-badge">Redis</span>
          <span class="tech-badge">CUDA</span>
          <span class="tech-badge">Jekyll</span>
        </div>
        
        <div class="footer-meta">
          <p>&copy; 2025 Graycat AI Server. Open source under MIT license.</p>
          <p class="build-info">
            Built with ‚ù§Ô∏è using Jekyll
            <br>
            <small>Last updated: September 13, 2025</small>
          </p>
        </div>
      </div>
    </div>
  </div>
</footer>

<style>
.site-footer {
  background-color: var(--bg-secondary);
  border-top: 1px solid var(--border-color);
  padding: 3rem 0 1rem 0;
  margin-top: 3rem;
}

.footer-content {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr 1fr;
  gap: 2rem;
  margin-bottom: 2rem;
}

.footer-section h3,
.footer-section h4 {
  color: var(--text-color);
  margin-bottom: 1rem;
  font-weight: 600;
}

.footer-section h3 {
  font-size: 1.3rem;
}

.footer-section h4 {
  font-size: 1rem;
}

.footer-description {
  color: var(--text-secondary);
  margin-bottom: 1.5rem;
  line-height: 1.6;
}

.social-links {
  display: flex;
  gap: 1rem;
}

.social-link {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background-color: var(--button-bg);
  color: var(--text-color);
  text-decoration: none;
  border-radius: 6px;
  border: 1px solid var(--border-color);
  transition: all 0.2s ease;
  font-size: 0.9rem;
}

.social-link:hover {
  background-color: var(--button-hover);
  border-color: var(--link-color);
  color: var(--link-color);
}

.footer-links {
  list-style: none;
  margin: 0;
  padding: 0;
}

.footer-links li {
  margin-bottom: 0.5rem;
}

.footer-links a {
  color: var(--text-secondary);
  text-decoration: none;
  transition: color 0.2s ease;
}

.footer-links a:hover {
  color: var(--link-color);
}

.tech-stack {
  display: flex;
  flex-wrap: wrap;
  gap: 0.5rem;
  margin-bottom: 1.5rem;
}

.tech-badge {
  background-color: var(--bg-tertiary);
  color: var(--text-color);
  padding: 0.25rem 0.5rem;
  border-radius: 4px;
  font-size: 0.8rem;
  border: 1px solid var(--border-color);
}

.footer-meta {
  color: var(--text-muted);
  font-size: 0.9rem;
}

.footer-meta p {
  margin: 0.5rem 0;
  color: var(--text-muted);
}

.build-info {
  border-top: 1px solid var(--border-muted);
  padding-top: 1rem;
  margin-top: 1rem;
}

.build-info small {
  color: var(--text-muted);
  font-size: 0.8rem;
}

@media (max-width: 768px) {
  .footer-content {
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  
  .social-links {
    flex-direction: column;
  }
  
  .tech-stack {
    justify-content: flex-start;
  }
}

@media (max-width: 1024px) {
  .footer-content {
    grid-template-columns: 1fr 1fr;
  }
}
</style></body>

</html>
